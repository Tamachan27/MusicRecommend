<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>éŸ³æ¥½MBTIè¨ºæ–­</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",sans-serif;
  background:#f5f5f5;
  margin:0;
}
.container{
  max-width:600px;
  margin:0 auto;
  padding:20px;
}
.card{
  background:#fff;
  border-radius:14px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
}
button{
  width:100%;
  padding:18px;
  margin:8px 0;
  border:none;
  border-radius:12px;
  background:#222;
  color:#fff;
  font-size:14px;
}
button.selected{
  background:#666;
}
.tags span{
  display:inline-block;
  background:#eee;
  padding:6px 10px;
  border-radius:999px;
  margin:4px;
  font-size:14px;
}

/* ã‚¹ãƒãƒ›ç”¨ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
@media screen and (max-width:480px){
  .container{
    max-width:100%;
    padding:15px;
  }
  button{
    font-size:16px;
    padding:20px;
  }
  .card{
    padding:15px;
  }
  .tags span{
    font-size:16px;
    padding:8px 12px;
  }
}
</style>
</head>

<body>
<div class="container">

<!-- ã‚¿ã‚¤ãƒˆãƒ« -->
<div class="card">
  <h1>ğŸ§ éŸ³æ¥½MBTIè¨ºæ–­</h1>
  <p>ç›´æ„Ÿã§é¸ã‚“ã§ãã ã•ã„</p>
</div>

<!-- å‰åŠ4å• -->
<div class="card">
  <h2>Q1. éŸ³æ¥½ã‚¸ãƒ£ãƒ³ãƒ«ã¯ï¼Ÿ</h2>
  <button onclick="setAnswer(0,'R',this)">ãƒ­ãƒƒã‚¯</button>
  <button onclick="setAnswer(0,'P',this)">ãƒãƒƒãƒ—ã‚¹</button>
</div>

<div class="card">
  <h2>Q2. ãƒœãƒ¼ã‚«ãƒ«ã§å¥½ããªã®ã¯ï¼Ÿ</h2>
  <button onclick="setAnswer(1,'M',this)">ç”·æ€§ãƒœãƒ¼ã‚«ãƒ«</button>
  <button onclick="setAnswer(1,'F',this)">å¥³æ€§ãƒœãƒ¼ã‚«ãƒ«</button>
</div>

<div class="card">
  <h2>Q3. æ›²ã®é›°å›²æ°—ã¯ã©ã¡ã‚‰ãŒå¥½ãï¼Ÿ</h2>
  <button onclick="setAnswer(2,'P',this)">å‰å‘ããƒ»å…ƒæ°—</button>
  <button onclick="setAnswer(2,'N',this)">è½ã¡ç€ã„ãŸãƒ»æš—ã‚</button>
</div>

<div class="card">
  <h2>Q4. éŸ³æ¥½ã§é‡è¦–ã™ã‚‹ã®ã¯ï¼Ÿ</h2>
  <button onclick="setAnswer(3,'L',this)">æ­Œè©ãƒ»ç‰©èª</button>
  <button onclick="setAnswer(3,'S',this)">æ›²èª¿ãƒ»ã‚µã‚¦ãƒ³ãƒ‰</button>
</div>

<!-- å¾ŒåŠè£œåŠ©è³ªå• -->
<div class="card" id="q5-card" style="display:none">
  <h2>Q5. ã†ã‚‹ã•ã„ç³»ã®éŸ³æ¥½ã¯å¥½ãï¼Ÿ</h2>
  <button onclick="setAnswer(4,'Y',this)">ã¯ã„</button>
  <button onclick="setAnswer(4,'N',this)">ã„ã„ãˆ</button>
</div>

<div class="card" id="q6-card" style="display:none">
  <h2>Q6. ã‚¤ãƒ³ã‚¹ãƒˆãƒãƒ³ãƒ‰ã¯å¥½ãï¼Ÿ</h2>
  <button onclick="setAnswer(5,'Y',this)">ã¯ã„</button>
  <button onclick="setAnswer(5,'N',this)">ã„ã„ãˆ</button>
</div>

<!-- çµæœ -->
<div class="card" id="result">
  <h2 id="mbti">çµæœã¯ã¾ã ã§ã™</h2>
  <p id="title"></p>
  <div class="tags" id="tags"></div>
  <h3>ãŠã™ã™ã‚ãƒãƒ³ãƒ‰</h3>
  <ul id="bands"></ul>
</div>

</div>

<script>
const answers = [null,null,null,null,null,null]; // Q1ï½Q6
let tags = [];

const titles = {
  RMLP:"ç–¾èµ°ã™ã‚‹è¨€è‘‰ã®æ—…äºº",
  RMSP:"éŸ³ã§é§†ã‘æŠœã‘ã‚‹å†’é™ºè€…",
  RMNP:"å†…çœã‚’åˆ»ã‚€ãƒ©ãƒ³ãƒŠãƒ¼",
  RMSN:"æ„Ÿæƒ…ã‚’çˆ†ç™ºã•ã›ã‚‹è¦³æ¸¬è€…",
  RFLP:"å£°ã«æ‹ã™ã‚‹ç–¾èµ°è€…",
  RFSP:"æºã‚Œã‚‹éŸ³ã®ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼",
  RFNP:"å¿ƒã‚’è¿½ã†ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼",
  RFSN:"é™ã‹ãªéŸ³ã®å“²å­¦è€…",
  PMLP:"æœˆå¤œã®ãƒ¡ãƒ­ãƒ‡ã‚£ã‚¹ãƒˆ",
  PMSP:"æ³¢ã«æºã‚Œã‚‹ã‚µã‚¦ãƒ³ãƒ‰æ´¾",
  PMNP:"æ·±æµ·ã®ãƒªã‚¹ãƒŠãƒ¼",
  PMSN:"æ„Ÿè¦šã§ç”Ÿãã‚‹å…±é³´è€…",
  PFLP:"éƒ¨å±‹ã¨æ­Œã®ä½äºº",
  PFSP:"éŸ³åœ§ã®ãƒ’ãƒ­ã‚¤ãƒ³",
  PFNP:"å¿ƒé™ã‹ã«æ­Œã†ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼",
  PFSN:"å¤œã‚’æŠ±ãˆã‚‹èªã‚Šéƒ¨"
};

const bandSlots = {};
Object.keys(titles).forEach(k=>{
  bandSlots[k]=["ï¼ˆæœªè¨­å®šï¼‰","ï¼ˆæœªè¨­å®šï¼‰","ï¼ˆæœªè¨­å®šï¼‰","ï¼ˆæœªè¨­å®šï¼‰"];
});

function setAnswer(index,letter,btn){
  answers[index]=letter;
  btn.parentElement.querySelectorAll('button')
    .forEach(b=>b.classList.remove('selected'));
  btn.classList.add('selected');

  // å‰åŠ1å•ç›®ã§åˆ†å²ã—ã¦å¾ŒåŠè³ªå•ã‚’è¡¨ç¤º
  if(index===0){
    if(letter==='R'){
      document.getElementById('q5-card').style.display='block';
    } else {
      document.getElementById('q5-card').style.display='none';
    }
    if(letter==='P'){
      document.getElementById('q6-card').style.display='block';
    } else {
      document.getElementById('q6-card').style.display='block';
    }
  }

  // ã™ã¹ã¦ã®è³ªå•ã«å›ç­”ã—ã¦ã‹ã‚‰çµæœè¡¨ç¤º
  if(!answers.slice(0,4).includes(null) && !answers.slice(4).includes(null)){
    updateResult();
  }
}

function updateResult(){
  const code = answers.slice(0,4).join(''); // å‰åŠ4å•ã®MBTIã‚³ãƒ¼ãƒ‰
  document.getElementById('mbti').textContent =
    "ã‚ãªãŸã®éŸ³æ¥½MBTIï¼š" + code;
  document.getElementById('title').textContent =
    "ä¸»äººå…¬åï¼šã€Œ" + titles[code] + "ã€";

  // ã‚¿ã‚°ãƒªã‚¹ãƒˆ
  const tagBox=document.getElementById('tags');
  tagBox.innerHTML="";
  tags = [];
  if(answers[4]==='Y'){ // Q5ãŒã€Œã¯ã„ã€ã®å ´åˆã®ã¿
    tags.push('#çˆ†éŸ³è€æ€§');
  }
  if(answers[5]==='Y'){ // Q6ãŒã€Œã¯ã„ã€ã®å ´åˆã®ã¿
    tags.push('#éŸ³ã®æ¢ç©¶è€…');
  }
  tags.forEach(t=>{
    const s=document.createElement('span');
    s.textContent=t;
    tagBox.appendChild(s);
  });

  // ãŠã™ã™ã‚ãƒãƒ³ãƒ‰
  const list=document.getElementById('bands');
  list.innerHTML="";
  bandSlots[code].forEach(b=>{
    const li=document.createElement('li');
    li.textContent=b;
    list.appendChild(li);
  });
}
</script>

</body>
</html>
