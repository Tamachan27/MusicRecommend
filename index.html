<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±ºå®šç‰ˆï¼šéŸ³æ¥½MBTIè¨ºæ–­</title>
    <style>
        :root { --primary: #6366f1; --bg: #f3f4f6; --card: #ffffff; --text: #1f2937; --spotify-green: #1DB954; }
        body { font-family: sans-serif; background: var(--bg); color: var(--text); padding: 20px; line-height: 1.5; }
        .container { max-width: 650px; margin: 0 auto; background: var(--card); padding: 30px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: var(--primary); margin-bottom: 30px; }
        .q-box { margin-bottom: 25px; padding: 15px; border-bottom: 1px solid #eee; }
        .q-title { font-weight: bold; margin-bottom: 12px; display: block; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        input[type="radio"] { display: none; }
        label { 
            display: block; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; 
            border-radius: 10px; text-align: center; cursor: pointer; transition: 0.2s; font-size: 0.9rem;
        }
        input[type="radio"]:checked + label { background: var(--primary); color: white; border-color: var(--primary); }
        .submit-btn { 
            width: 100%; padding: 15px; background: var(--primary); color: white; border: none; 
            border-radius: 10px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 20px;
        }
        #result { display: none; margin-top: 30px; }
        .title-display { text-align: center; font-size: 1.3rem; color: var(--primary); font-weight: bold; margin-bottom: 5px; }
        .mbti-display { text-align: center; font-size: 0.9rem; color: #6b7280; margin-bottom: 20px; }
        .artist-card { background: #f8fafc; padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 5px solid var(--primary); }
        .tags { margin: 5px 0; }
        .tag { font-size: 0.75rem; background: #e5e7eb; padding: 2px 8px; border-radius: 10px; margin-right: 5px; color: #4b5563; }
        .links { margin-top: 10px; display: flex; gap: 15px; }
        .links a { font-size: 0.85rem; text-decoration: none; font-weight: bold; }
        .sp { color: var(--spotify-green); } .yt { color: #FF0000; }
        
        /* ä½œæˆè€…ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .creator-playlist-btn {
            display: block; width: 100%; padding: 15px; background: #191414; color: white;
            text-decoration: none; text-align: center; border-radius: 10px; font-weight: bold;
            margin-top: 30px; margin-bottom: 10px; transition: 0.2s; border: 2px solid var(--spotify-green);
        }
        .creator-playlist-btn:hover { background: var(--spotify-green); color: white; }
        
        #q-noisy-box { display: none; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ§ éŸ³æ¥½MBTIè¨ºæ–­</h1>
    <form id="quiz-form">
        <div class="q-box">
            <span class="q-title">Q1. ã©ã£ã¡ã®ã‚µã‚¦ãƒ³ãƒ‰ãŒæ°—åˆ†ï¼Ÿ</span>
            <div class="options">
                <input type="radio" name="q1" value="R" id="r1" required onchange="toggleNoisyQuestion(true)"><label for="r1">ãƒ­ãƒƒã‚¯ç³»</label>
                <input type="radio" name="q1" value="P" id="r2" onchange="toggleNoisyQuestion(false)"><label for="r2">ãƒãƒƒãƒ—ã‚¹ç³»</label>
            </div>
        </div>
        
        <div class="q-box">
            <span class="q-title">Q2. ãƒœãƒ¼ã‚«ãƒ«ã®å¥½ã¿ã¯ï¼Ÿ</span>
            <div class="options">
                <input type="radio" name="q2" value="M" id="r3" required><label for="r3">ç”·æ€§ãƒœãƒ¼ã‚«ãƒ«</label>
                <input type="radio" name="q2" value="F" id="r4"><label for="r4">å¥³æ€§ãƒœãƒ¼ã‚«ãƒ«</label>
            </div>
        </div>

        <div class="q-box">
            <span class="q-title">Q3. ä»Šæ—¥ã®ç©ºæ°—æ„Ÿã¯ï¼Ÿ</span>
            <div class="options">
                <input type="radio" name="q3" value="P" id="r5" required><label for="r5">æ˜ã‚‹ãå‰å‘ã</label>
                <input type="radio" name="q3" value="N" id="r6"><label for="r6">å¤œãƒ»å†…çœçš„</label>
            </div>
        </div>

        <div class="q-box">
            <span class="q-title">Q4. ä½•ã‚’ä¸€ç•ªå¤§äº‹ã«ã™ã‚‹ï¼Ÿ</span>
            <div class="options">
                <input type="radio" name="q4" value="L" id="r7" required><label for="r7">æ­Œè©ãƒ»è¨€è‘‰</label>
                <input type="radio" name="q4" value="S" id="r8"><label for="r8">æ¥½å™¨ãƒ»ã‚µã‚¦ãƒ³ãƒ‰</label>
            </div>
        </div>

        <div class="q-box" id="q-noisy-box">
            <span class="q-title">Q5. æ¿€ã—ã„ã†ã‚‹ã•ã„éŸ³æ¥½ï¼ˆçˆ†éŸ³ï¼‰ã¯å¥½ãï¼Ÿ</span>
            <div class="options">
                <input type="radio" name="q5" value="Yes" id="r9"><label for="r9">å¤§å¥½ãï¼</label>
                <input type="radio" name="q5" value="No" id="r10"><label for="r10">ãã“ã¾ã§ã§ã‚‚ãªã„</label>
            </div>
        </div>

        <button type="submit" class="submit-btn">è¨ºæ–­çµæœã‚’è¦‹ã‚‹</button>
    </form>

    <div id="result">
        <div class="title-display" id="res-title"></div>
        <div class="mbti-display" id="res-mbti"></div>
        <div id="res-list"></div>
        
        <hr style="margin-top:40px; border:0; border-top:1px solid #eee;">
        <p style="text-align:center; font-size:0.9rem; color:#666;">ã“ã¡ã‚‰ã‚‚ãƒã‚§ãƒƒã‚¯ï¼</p>
        <a href="https://open.spotify.com/playlist/0mcq4pFXRajMz2XkbxzwNx?si=xMC5_4AyT4umtvhBqh_nmA" target="_blank" class="creator-playlist-btn">
            ğŸŸ¢ ä½œæˆè€…ã®ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’è´ã„ã¦ã¿ã‚‹
        </a>

        <button onclick="location.reload()" class="submit-btn" style="background:#6b7280;">ã‚„ã‚Šç›´ã™</button>
    </div>
</div>

<script>
const data = {
    "RMLP": { title: "ç–¾èµ°ã™ã‚‹è¨€è‘‰ã®æ—…äºº", artists: ["SUPER BEAVER", "RADWIMPS", "SAKANAMON", "Postman", "ãƒ•ã‚£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ•"], tags: [] },
    "RMPS": { title: "éŸ³ã§é§†ã‘æŠœã‘ã‚‹å†’é™ºè€…", artists: ["King Gnu", "ã‚²ã‚¹ã®æ¥µã¿ä¹™å¥³ã€‚", "ãƒ•ãƒ¬ãƒ‡ãƒªãƒƒã‚¯", "å¤œã®æœ¬æ°—ãƒ€ãƒ³ã‚¹", "ãƒ’ãƒˆãƒªã‚¨", "NEE", "04 Limited Sazabys", "ROTTENGRAFFTY", "Helsinki Lambda Club", "è¶…èƒ½åŠ›æˆ¦å£«ãƒ‰ãƒªã‚¢ãƒ³", "ã‚·ãƒ³ã‚¬ãƒ¼ã‚ºãƒã‚¤", "Codyãƒ»Lee(æ)", "ã‚µã‚¤ãƒ€ãƒ¼ã‚¬ãƒ¼ãƒ«", "ã‚¯ã‚¸ãƒ©å¤œã®è¡—"], tags: ["#éŸ³ã®æ¢ç©¶è€…(King Gnu)"] },
    "RMNL": { title: "å†…çœã‚’åˆ»ã‚€ãƒ©ãƒ³ãƒŠãƒ¼", artists: ["ã‚¯ãƒªãƒ¼ãƒ—ãƒã‚¤ãƒ—", "indigo la End", "PK shampoo", "ãƒ¨ã‚¤ã‚º"], tags: [] },
    "RMNS": { title: "æ„Ÿæƒ…ã‚’çˆ†ç™ºã•ã›ã‚‹è¦³æ¸¬è€…", artists: ["ã‚µã‚«ãƒŠã‚¯ã‚·ãƒ§ãƒ³", "cinema staff", "the cabs", "ç§‹å±±é»„è‰²", "ãƒ«ã‚µãƒ³ãƒãƒãƒ³", "å¤šæ¬¡å…ƒåˆ¶å¾¡æ©Ÿæ§‹ã‚ˆã ã‹", "Broken my toybox", "T.o.c.a.", "ãƒˆãƒƒãƒ—ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒãƒ³"], tags: ["#éŸ³ã®æ¢ç©¶è€…(ã‚µã‚«ãƒŠã‚¯ã‚·ãƒ§ãƒ³)"] },
    "RFPL": { title: "å£°ã«æ‹ã™ã‚‹ç–¾èµ°è€…", artists: ["ã‚«ãƒãƒ¨ãƒªãƒã‚µãƒ«", "ã‚µãƒã‚·ã‚¹ã‚¿ãƒ¼", "Atmic skipper", "Pompadours", "æ¡ƒè‰²ãƒ‰ãƒ­ã‚·ãƒ¼", "Chilli Beans."], tags: [] },
    "RFPS": { title: "æºã‚Œã‚‹éŸ³ã®ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼", artists: ["ãƒãƒ«ã‚«ãƒ‰ãƒƒãƒˆã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ¬ã‚¤", "ãƒã‚¯ãƒ©ã‚¤ãƒˆãƒ¼ã‚­ãƒ¼", "Aooo", "Tricot", "COPES", "èµ¤ã„å…¬åœ’", "å˜˜ã¨ã‚«ãƒ¡ãƒ¬ã‚ªãƒ³", "CLAN QUEEN", "æ±äº¬äº‹å¤‰", "Nek!"], tags: ["#éŸ³ã®æ¢ç©¶è€…(Tricot)"] },
    "RFNL": { title: "å¿ƒã‚’è¿½ã†ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼", artists: ["ãƒ¨ãƒ«ã‚·ã‚«", "ç¾æ³¢", "ãªãã”ã¨", "ã¿ã‚†ãª", "æ˜ãã‚‹å¤œã®ç¾Š", "ã‚¦ãƒã‚·ã‚«ã¦"], tags: ["#ãƒãƒƒãƒˆç™º"] },
    "RFNS": { title: "é™ã‹ãªéŸ³ã®å“²å­¦è€…", artists: ["å¥³ç‹èœ‚", "ç›¸å¯¾æ€§ç†è«–", "æ–‡è—å¤©å›½", "å®‡å®™ã‚³ãƒ³ãƒ“ãƒ‹", "ãƒ–ãƒ©ãƒ³ãƒ‡ãƒ¼æˆ¦è¨˜", "ãƒŸãƒ¼ãƒã‚¤ãƒŠãƒ¼", "Oddre:", "NELKE", "ç§˜ã‚ã”ã¨"], tags: ["#éŸ³ã®æ¢ç©¶è€…(å®‡å®™ã‚³ãƒ³ãƒ“ãƒ‹)"] },
    "PMLP": { title: "æ—¥å¸¸ã«å¯„ã‚Šæ·»ã†é™½ã ã¾ã‚Š", artists: ["sumika", "ãƒ¬ãƒˆãƒ­ãƒªãƒ­ãƒ³", "ãƒªãƒ¥ãƒƒã‚¯ã¨æ·»ã„å¯ã”é£¯", "ã¨ã‘ãŸé›»çƒ"], tags: [] },
    "PMPS": { title: "æ³¢ã«æºã‚Œã‚‹ã‚µã‚¦ãƒ³ãƒ‰æ´¾", artists: ["Dannie May", "è—¤äº•é¢¨", "é›¢å©šä¼èª¬", "Suchmos", "Kroi", "Lucky Kilimanjaro", "LUCKY TAPES", "Bialystocks", "æ–°æ±äº¬", "BREIMEN"], tags: [] },
    "PMNL": { title: "æ·±æµ·ã®ãƒªã‚¹ãƒŠãƒ¼", artists: ["ã¼ãã®ã‚Šã‚Šã£ãã®ã¼ã†ã‚ˆã¿", "å°æ—ç§", "æ˜ ç§€", "ç”Ÿæ´»ã¯å¿˜ã‚Œã¦"], tags: ["#ãƒãƒƒãƒˆç™º"] },
    "PMNS": { title: "æ„Ÿè¦šã§ç”Ÿãã‚‹å…±é³´è€…", artists: ["Dios", "ã‚­ã‚¿ãƒ‹ã‚¿ãƒ„ãƒ¤", "PEOPLE 1", "TOOBOE", "ãã˜ã‚‰"], tags: ["#ãƒãƒƒãƒˆç™º"] },
    "PFPL": { title: "éƒ¨å±‹ã¨æ­Œã®ä½äºº", artists: ["SHISHAMO", "ç·‘é»„è‰²ç¤¾ä¼š", "NakamuraEmi", "ãƒãƒƒãƒ—ã—ãªãªã„ã§", "TOMOO"], tags: [] },
    "PFPS": { title: "éŸ³åœ§ã®ãƒ’ãƒ­ã‚¤ãƒ³", artists: ["NOMELON NOLEMON", "ç¤¼è³›", "ãƒ•ãƒ¬ãƒ³ã‚º", "ã‚«ãƒ©ã‚¹ã¯çœŸã£ç™½", "muque", "å‰é«ªã±ã£ã¤ã‚“å°‘å¹´", "ã‚¢ã‚¶ãƒŸ"], tags: ["#ãƒãƒƒãƒˆç™º"] },
    "PFNL": { title: "å¿ƒé™ã‹ã«æ­Œã†ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼", artists: ["æ¤åæ—æª", "ä¸‰æœˆã®ãƒ‘ãƒ³ã‚¿ã‚·ã‚¢", "æ°´æ§½", "è…åŸåœ­", "å¸°ã‚Šã®ä¼š", "ç©ºç™½ã”ã£ã“", "Swallow"], tags: ["#ãƒãƒƒãƒˆç™º"] },
    "PFNS": { title: "å¤œã‚’æŠ±ãˆã‚‹èªã‚Šéƒ¨", artists: ["ãšã£ã¨çœŸå¤œä¸­ã§ã„ã„ã®ã«ã€‚", "Maison book girl", "DustCell", "ç´«ä»Š", "Empty Old City", "é•·ç€¬æœ‰èŠ±"], tags: ["#ãƒãƒƒãƒˆç™º"] }
};

const noisyList = ["the cabs", "ROTTENGRAFFTY", "ãƒˆãƒƒãƒ—ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒãƒ³", "PK shampoo", "ãƒ«ã‚µãƒ³ãƒãƒãƒ³"];
const netArtists = ["ãƒ¨ãƒ«ã‚·ã‚«", "ç¾æ³¢", "ãšã£ã¨çœŸå¤œä¸­ã§ã„ã„ã®ã«ã€‚", "Dios", "ã‚­ã‚¿ãƒ‹ã‚¿ãƒ„ãƒ¤", "ä¸‰æœˆã®ãƒ‘ãƒ³ã‚¿ã‚·ã‚¢", "DustCell", "æ°´æ§½", "Aooo", "å‰é«ªã±ã£ã¤ã‚“å°‘å¹´", "ç´«ä»Š", "ãã˜ã‚‰", "è…åŸåœ­", "å¸°ã‚Šã®ä¼š", "ç©ºç™½ã”ã£ã“", "CLAN QUEEN", "ã¼ãã®ã‚Šã‚Šã£ãã®ã¼ã†ã‚ˆã¿", "ç”Ÿæ´»ã¯å¿˜ã‚Œã¦", "æ˜ ç§€", "å°æ—ç§"];

function toggleNoisyQuestion(show) {
    const box = document.getElementById('q-noisy-box');
    const yesBtn = document.getElementById('r9');
    if (show) { box.style.display = 'block'; yesBtn.setAttribute('required', ''); } 
    else { box.style.display = 'none'; yesBtn.removeAttribute('required'); }
}

document.getElementById('quiz-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const q1 = document.querySelector('input[name="q1"]:checked').value;
    const q2 = document.querySelector('input[name="q2"]:checked').value;
    const q3 = document.querySelector('input[name="q3"]:checked').value;
    const q4 = document.querySelector('input[name="q4"]:checked').value;
    const noisyEl = document.querySelector('input[name="q5"]:checked');
    const isNoisy = noisyEl ? noisyEl.value === "Yes" : false;
    
    const code = q1 + q2 + q3 + q4;
    const resultData = data[code];
    
    document.getElementById('quiz-form').style.display = 'none';
    document.getElementById('result').style.display = 'block';
    document.getElementById('res-title').innerText = resultData.title;
    document.getElementById('res-mbti').innerText = "è¨ºæ–­ã‚¿ã‚¤ãƒ—: " + code;

    let pool = [...resultData.artists];
    if (isNoisy) { pool.sort((a, b) => noisyList.includes(b) - noisyList.includes(a)); } 
    else { pool = pool.filter(name => !noisyList.includes(name)); }

    const selected = pool.sort(() => 0.5 - Math.random()).slice(0, 5);
    const listDiv = document.getElementById('res-list');
    listDiv.innerHTML = "";

    selected.forEach(name => {
        const card = document.createElement('div');
        card.className = 'artist-card';
        let tagsHTML = "";
        if (noisyList.includes(name)) tagsHTML += '<span class="tag" style="background:#fee2e2;color:#b91c1c;">#çˆ†éŸ³è€æ€§</span>';
        if (netArtists.includes(name)) tagsHTML += '<span class="tag" style="background:#e0e7ff;color:#4338ca;">#ãƒãƒƒãƒˆç™º</span>';
        if (["ã‚µã‚«ãƒŠã‚¯ã‚·ãƒ§ãƒ³", "King Gnu", "cinema staff", "Tricot", "å®‡å®™ã‚³ãƒ³ãƒ“ãƒ‹", "æ±äº¬äº‹å¤‰"].includes(name)) tagsHTML += '<span class="tag">#éŸ³ã®æ¢ç©¶è€…</span>';

        card.innerHTML = `
            <strong>${name}</strong>
            <div class="tags">${tagsHTML}</div>
            <div class="links">
                <a href="https://open.spotify.com/search/${encodeURIComponent(name)}" target="_blank" class="sp">Spotify</a>
                <a href="https://www.youtube.com/results?search_query=${encodeURIComponent(name)}" target="_blank" class="yt">YouTube</a>
            </div>
        `;
        listDiv.appendChild(card);
    });
});
</script>
</body>
</html>
