<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>éŸ³æ¥½MBTIè¨ºæ–­</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body{ font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",sans-serif; background:#f5f5f5; margin:0; color: #333; }
  .container{ max-width:600px; margin:0 auto; padding:20px; }
  .card{ background:#fff; border-radius:14px; padding:20px; margin-bottom:20px; box-shadow:0 6px 20px rgba(0,0,0,.08); }
  h1 { text-align: center; font-size: 24px; margin-bottom: 10px; }
  h2 { font-size: 18px; margin-top: 0; line-height: 1.4; }
  p.desc { text-align: center; margin-bottom: 20px; color: #666; }
  
  button{ width:100%; padding:16px; margin:8px 0; border:2px solid #eee; border-radius:12px; background:#fff; color:#222; font-size:14px; cursor: pointer; transition: 0.2s; text-align: left; }
  button:hover { background: #f9f9f9; border-color: #ddd; }
  button.selected{ background:#222; color:#fff; border-color: #222; }
  
  /* çµæœã‚¨ãƒªã‚¢ */
  #result { display: none; background: #1a1a1a; color: #fff; border: none; }
  #result h2 { color: #fff; }
  .mbti-code { font-size: 40px; font-weight: 900; color: #ffeb3b; letter-spacing: 2px; margin: 10px 0; }
  .mbti-title { font-size: 20px; font-weight: bold; margin-bottom: 20px; border-left: 4px solid #ffeb3b; padding-left: 10px; }
  
  .tags span{ display:inline-block; background:rgba(255,235,59,0.2); color: #ffeb3b; padding:6px 14px; border-radius:999px; margin:4px; font-size:14px; font-weight: bold; border: 1px solid rgba(255,235,59,0.5); }
  .hidden { display: none; }

  @media screen and (max-width:480px){
    .container{ padding:15px; }
    button{ font-size:16px; padding:18px; }
  }
</style>
</head>

<body>
<div class="container">

  <div class="card">
    <h1>ğŸ§ éŸ³æ¥½MBTIè¨ºæ–­</h1>
    <p class="desc">ã‚ãªãŸã®ç›´æ„Ÿã‹ã‚‰ã€å¥½ã¿ã®éŸ³æ¥½ã‚¿ã‚¤ãƒ—ã‚’å°ãå‡ºã—ã¾ã™</p>
  </div>

  <div class="card">
    <h2>Q1. ãƒ¡ã‚¤ãƒ³ã§è´ãã®ã¯ï¼Ÿ</h2>
    <button onclick="setAnswer('q1','R',this)">ãƒ­ãƒƒã‚¯ç³»</button>
    <button onclick="setAnswer('q1','P',this)">ãƒãƒƒãƒ—ã‚¹ç³»</button>
  </div>

  <div class="card hidden" id="sub-R">
    <h2>Q1'. æ¿€ã—ã„æ›²ï¼ˆãƒ©ã‚¦ãƒ‰ãƒ»ãƒ‘ãƒ³ã‚¯ç­‰ï¼‰ã‚‚è´ãï¼Ÿ</h2>
    <button onclick="setAnswer('sub','Y',this)">ã¯ã„ï¼ˆçˆ†éŸ³ã‚‚å¥½ãï¼‰</button>
    <button onclick="setAnswer('sub','N',this)">ã„ã„ãˆï¼ˆãã‚Œã„ã‚ãŒå¥½ãï¼‰</button>
  </div>

  <div class="card hidden" id="sub-P">
    <h2>Q1'. ã‚¢ã‚¤ãƒ‰ãƒ«ã®æ›²ã¯è´ãï¼Ÿ</h2>
    <button onclick="setAnswer('sub','Y',this)">ã¯ã„ï¼ˆæ¨ã—ãŒã„ã‚‹ãƒ»ã‚ˆãè´ãï¼‰</button>
    <button onclick="setAnswer('sub','N',this)">ã„ã„ãˆï¼ˆã‚ã¾ã‚Šè´ã‹ãªã„ï¼‰</button>
  </div>

  <div class="card">
    <h2>Q2. å¥½ã¿ã®ãƒœãƒ¼ã‚«ãƒ«ã¯ï¼Ÿ</h2>
    <button onclick="setAnswer('q2','M',this)">ç”·æ€§ãƒœãƒ¼ã‚«ãƒ«</button>
    <button onclick="setAnswer('q2','F',this)">å¥³æ€§ãƒœãƒ¼ã‚«ãƒ«</button>
  </div>

  <div class="card">
    <h2>Q3. æ±‚ã‚ã‚‹ç©ºæ°—æ„Ÿã¯ã©ã¡ã‚‰ï¼Ÿ</h2>
    <button onclick="setAnswer('q3','P',this)">å‰å‘ããƒ»ãƒ•ã‚§ã‚¹ã§ç››ã‚Šä¸ŠãŒã‚‹</button>
    <button onclick="setAnswer('q3','N',this)">è½ã¡ç€ã„ãŸãƒ»æš—ã‚ãƒ»å†…çœçš„</button>
  </div>

  <div class="card">
    <h2>Q4. ã©ã“ã«æƒ¹ã‹ã‚Œã‚‹ã“ã¨ãŒå¤šã„ï¼Ÿ</h2>
    <button onclick="setAnswer('q4','L',this)">æ­Œè©ã®ç‰©èªæ€§ãƒ»è¨€è‘‰</button>
    <button onclick="setAnswer('q4','S',this)">æ›²èª¿ãƒ»ã‚µã‚¦ãƒ³ãƒ‰ãƒ»ãƒ¡ãƒ­ãƒ‡ã‚£</button>
  </div>

  <div class="card">
    <h2>Q5. SNSã‚„å‹•ç”»ã‚µã‚¤ãƒˆã‹ã‚‰ç™»å ´ã—ãŸã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã¯å¥½ãï¼Ÿ</h2>
    <button onclick="setAnswer('q5','Y',this)">ã¯ã„ï¼ˆãƒãƒƒãƒˆç™ºã®æ´»å‹•ãŒãã£ã‹ã‘ï¼‰</button>
    <button onclick="setAnswer('q5','N',this)">ã„ã„ãˆ / ç‰¹ã«æ„è­˜ã—ãªã„</button>
  </div>

  <div class="card">
    <h2>Q6. ã‚¤ãƒ³ã‚¹ãƒˆãƒãƒ³ãƒ‰ï¼ˆæ­Œãªã—ï¼‰ã¯å¥½ãï¼Ÿ</h2>
    <button onclick="setAnswer('q6','Y',this)">ã¯ã„ï¼ˆæ¥½å™¨ã®éŸ³ãŒå¥½ãï¼‰</button>
    <button onclick="setAnswer('q6','N',this)">ã„ã„ãˆï¼ˆæ­ŒãŒã»ã—ã„ï¼‰</button>
  </div>

  <div class="card" id="result">
    <p style="opacity:0.8; margin:0;">ã‚ãªãŸã®éŸ³æ¥½ã‚¿ã‚¤ãƒ—ã¯...</p>
    <div class="mbti-code" id="mbti-code"></div>
    <div class="mbti-title" id="mbti-title"></div>
    <div class="tags" id="tags"></div>
    
    <div style="background:rgba(255,255,255,0.1); padding:15px; border-radius:10px; margin-top:20px;">
      <h3 style="margin-top:0; font-size:14px; color:#ffeb3b;">ğŸ“Œ ãŠã™ã™ã‚å‚¾å‘</h3>
      <p style="font-size:14px; line-height:1.6; color:#ddd;">ã‚ãªãŸã®å›ç­”ã«åŸºã¥ã„ãŸã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã‚’ã€ä»Šå¾Œã“ã“ã«è¡¨ç¤ºã§ãã‚‹ã‚ˆã†æ‹¡å¼µå¯èƒ½ã§ã™ï¼</p>
    </div>
    
    <button onclick="location.reload()" style="background:#fff; color:#222; margin-top:25px; text-align:center;">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
  </div>

</div>

<script>
const answers = { q1:null, sub:null, q2:null, q3:null, q4:null, q5:null, q6:null };

const titles = {
  "RMLP":"ç–¾èµ°ã™ã‚‹è¨€è‘‰ã®æ—…äºº", "RMSP":"éŸ³ã§é§†ã‘æŠœã‘ã‚‹å†’é™ºè€…", "RMNP":"å†…çœã‚’åˆ»ã‚€ãƒ©ãƒ³ãƒŠãƒ¼", "RMSN":"æ„Ÿæƒ…ã‚’çˆ†ç™ºã•ã›ã‚‹è¦³æ¸¬è€…",
  "RFLP":"å£°ã«æ‹ã™ã‚‹ç–¾èµ°è€…", "RFSP":"æºã‚Œã‚‹éŸ³ã®ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼", "RFNP":"å¿ƒã‚’è¿½ã†ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼", "RFSN":"é™ã‹ãªéŸ³ã®å“²å­¦è€…",
  "PMLP":"æœˆå¤œã®ãƒ¡ãƒ­ãƒ‡ã‚£ã‚¹ãƒˆ", "PMSP":"æ³¢ã«æºã‚Œã‚‹ã‚µã‚¦ãƒ³ãƒ‰æ´¾", "PMNP":"æ·±æµ·ã®ãƒªã‚¹ãƒŠãƒ¼", "PMSN":"æ„Ÿè¦šã§ç”Ÿãã‚‹å…±é³´è€…",
  "PFLP":"éƒ¨å±‹ã¨æ­Œã®ä½äºº", "PFSP":"éŸ³åœ§ã®ãƒ’ãƒ­ã‚¤ãƒ³", "PFNP":"å¿ƒé™ã‹ã«æ­Œã†ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼", "PFSN":"å¤œã‚’æŠ±ãˆã‚‹èªã‚Šéƒ¨"
};

function setAnswer(id, val, btn) {
  answers[id] = val;

  // ãƒœã‚¿ãƒ³é¸æŠçŠ¶æ…‹ã®è¦‹ãŸç›®å¤‰æ›´
  const parent = btn.parentElement;
  parent.querySelectorAll('button').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');

  // Q1åˆ†å²ï¼šãƒ­ãƒƒã‚¯ãªã‚‰ãƒ­ãƒƒã‚¯ç”¨ã€ãƒãƒƒãƒ—ã‚¹ãªã‚‰ãƒãƒƒãƒ—ã‚¹ç”¨ã®ã‚µãƒ–å•ã‚’å‡ºã™
  if (id === 'q1') {
    answers['sub'] = null; // ã‚µãƒ–å›ç­”ãƒªã‚»ãƒƒãƒˆ
    document.getElementById('sub-R').classList.add('hidden');
    document.getElementById('sub-P').classList.add('hidden');
    document.getElementById('sub-' + val).classList.remove('hidden');
    // ã¾ã æœªå›ç­”ã®ãƒœã‚¿ãƒ³ã®é¸æŠçŠ¶æ…‹ã‚’ã‚¯ãƒªã‚¢
    document.getElementById('sub-' + val).querySelectorAll('button').forEach(b => b.classList.remove('selected'));
  }

  checkAll();
}

function checkAll() {
  // ã™ã¹ã¦ã®ã‚­ãƒ¼ãŒåŸ‹ã¾ã£ã¦ã„ã‚‹ã‹ç¢ºèª
  const allSet = Object.values(answers).every(v => v !== null);
  if (allSet) {
    showResult();
  }
}

function showResult() {
  // 4æ–‡å­—ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆ (Q1, Q2, Q3, Q4)
  const code = "" + answers.q1 + answers.q2 + answers.q3 + answers.q4;
  
  // è¡¨ç¤ºã®æ›´æ–°
  document.getElementById('mbti-code').textContent = code;
  document.getElementById('mbti-title').textContent = titles[code] || "æœªçŸ¥ã®éŸ³æ¥½æ¢æ±‚è€…";

  // ã‚¿ã‚°ç”Ÿæˆ
  const tagsDiv = document.getElementById('tags');
  tagsDiv.innerHTML = "";
  const activeTags = [];

  if (answers.q1 === 'R' && answers.sub === 'Y') activeTags.push('#çˆ†éŸ³è€æ€§');
  if (answers.q1 === 'P' && answers.sub === 'Y') activeTags.push('#ã‚¢ã‚¤ãƒ‰ãƒ«æ¨ã—');
  if (answers.q5 === 'Y') activeTags.push('#ãƒãƒƒãƒˆç™ºã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ');
  if (answers.q6 === 'Y') activeTags.push('#éŸ³ã®æ¢ç©¶è€…');

  activeTags.forEach(tag => {
    const s = document.createElement('span');
    s.textContent = tag;
    tagsDiv.appendChild(s);
  });

  // çµæœã‚«ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã—ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
  const resCard = document.getElementById('result');
  resCard.style.display = 'block';
  resCard.scrollIntoView({ behavior: 'smooth' });
}
</script>

</body>
</html>
</script>

</body>
</html>
